{"version":3,"sources":["Components/Tile.style.js","Components/Tile.js","Components/GameBoard.js","Components/GameOptions.styles.js","Components/SessionOptions.js","Components/GameOptions.js","Components/Lobby.js","Components/App.js","Components/useSocket.js","serviceWorker.js","index.js"],"names":["Backgrounds","unflipped","css","flippedNeutral","flippedSuddenDeath","flippedRed","flippedBlue","TileWrapper","styled","div","props","isSpymaster","flipped","type","Tile","data","useContext","GameContext","flipTile","userState","onClick","id","name","Container","Gameboard","GameBoard","gameState","Array","from","map","item","key","Row","ContentContainer","Banner","ButtonStyle","InputButton","button","NewGameButton","StyledInput","input","GameIdText","span","wasCopied","Component","setName","useState","nameInputVal","setNameInputVal","setWasCopied","nickname","gameID","text","navigator","permissions","query","then","result","state","clipboard","writeText","setTimeout","value","onChange","e","target","placeholder","joinGame","createGame","sessionInputVal","setSessionInputVal","preventDefault","NicknameDisplay","joinTeam","setSpymaster","users","players","reduce","acc","current","team","red","push","blue","none","user","find","React","createContext","Wrapper","App","socketContext","url","socket","setSocket","setGameState","setUserState","useEffect","connection","io","close","on","res","console","log","emit","tileId","gameId","teamId","useSocket","Provider","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.02c8a0be.chunk.js","sourcesContent":["import styled, { css } from \"styled-components\";\n\nconst Backgrounds = {\n  unflipped: css`\n    background: repeating-linear-gradient(\n      45deg,\n      #dfe5e7,\n      #dfe5e7 10px,\n      #eaede3 10px,\n      #eaede3 20px\n    );\n  `,\n  flippedNeutral: css`\n    background: repeating-linear-gradient(\n      -45deg,\n      #f1f1d9,\n      #f1f1d9 10px,\n      #f9f9f0 10px,\n      #f9f9f0 20px\n    );\n    color: rgba(102, 102, 102, 0.57);\n  `,\n  flippedSuddenDeath: css`\n    background: repeating-linear-gradient(\n      -45deg,\n      #7d7d7d,\n      #7d7d7d 10px,\n      #9c9c9c 10px,\n      #9c9c9c 20px\n    );\n  `,\n  flippedRed: css`\n    background: repeating-linear-gradient(\n      -45deg,\n      #c44236,\n      #c44236 10px,\n      #d56a60 10px,\n      #d56a60 20px\n    );\n  `,\n  flippedBlue: css`\n    background: repeating-linear-gradient(\n      -45deg,\n      #3695c4,\n      #3695c4 10px,\n      #62afd5 10px,\n      #62afd5 20px\n    );\n  `\n};\n\nconst TileWrapper = styled.div`\n  color: #333333;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  padding: ${props => (props.isSpymaster ? \"7px\" : \"14px\")};\n  margin: 5px;\n  cursor: pointer;\n  font-family: sans-serif;\n  display: flex;\n  justify-content: center;\n  font-weight: bold;\n  background-color: #f9f9f0;\n  \n  & > span {\n    padding: 5px;\n  }\n  transition: all 0.5s ease;\n\n  ${props =>\n    props.flipped &&\n    css`\n      box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.45);\n      color: rgba(240, 240, 240, 0.57);\n    `}\n\n  ${props =>\n    props.type === 0 && props.flipped\n      ? Backgrounds.flippedNeutral\n      : props.type === 1 && props.flipped\n      ? Backgrounds.flippedSuddenDeath\n      : props.type === 2 && props.flipped\n      ? Backgrounds.flippedRed\n      : props.type === 3 && props.flipped\n      ? Backgrounds.flippedBlue\n      : null}\n\n  ${props =>\n    props.type === 0 && props.isSpymaster\n      ? css`\n          border: 8px solid #f1f1d9;\n        `\n      : props.type === 1 && props.isSpymaster\n      ? css`\n          border: 8px solid #131313;\n        `\n      : props.type === 2 && props.isSpymaster\n      ? css`\n          border: 8px solid #c44236;\n        `\n      : props.type === 3 && props.isSpymaster\n      ? css`\n          border: 8px solid #3695c4;\n        `\n      : null}\n`;\n\nexport default TileWrapper;\n","import React, { useContext } from \"react\";\nimport TileWrapper from \"./Tile.style\";\n\nimport { GameContext } from \"./App\";\n\nexport default function Tile({ data }) {\n  const { flipTile, userState } = useContext(GameContext);\n  //const flipTile = () => null;\n\n  if (!userState) return null;\n\n  return (\n    <TileWrapper\n      onClick={() => flipTile(data.id)}\n      flipped={data.flipped}\n      type={data.type}\n      isSpymaster={userState.isSpymaster}\n    >\n      <span>{data.name}</span>\n    </TileWrapper>\n  );\n}\n","import React, { useContext } from \"react\";\nimport Tile from \"./Tile\";\nimport styled from \"styled-components\";\nimport { GameContext } from \"./App\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  user-select: none;\n  background: rgba(0, 0, 0, 0.35);\n`;\n\nconst Gameboard = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n  max-width: 750px;\n  margin: 10px;\n  padding: 10px;\n  border-radius: 5px;\n`;\n\nexport default function GameBoard() {\n  const { gameState } = useContext(GameContext);\n\n  return (\n    <Container>\n      <Gameboard>\n        {Array.from(gameState.gameState).map(item => (\n          <Tile key={item.id} data={item} />\n        ))}\n      </Gameboard>\n    </Container>\n  );\n}\n","import styled, { css } from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  & > div {\n    background-color: #6b7580a0;\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    flex-grow: 1;\n  }\n`;\n\nexport const Row = styled.div`\n  width: 100%;\n  flex-basis: 100%;\n  flex-grow: 1;\n  display: flex;\n  margin-bottom: 5px;\n`;\n\nexport const ContentContainer = styled.div`\n  padding: 10px;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nexport const Banner = styled.div`\n  flex-basis: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  text-align: center;\n  & > span {\n    display: block;\n    padding: 10px;\n    font-size: 24px;\n  }\n`;\n\nexport const ButtonStyle = css`\n  padding: 10px;\n  font-size: 16px;\n  cursor: pointer;\n  :active {\n    box-shadow: none;\n  }\n\n  :focus {\n    outline: none;\n  }\n`;\n\nexport const InputButton = styled.button`\n  ${ButtonStyle};\n  border-radius: 0px 5px 5px 0px;\n  display: inline-block;\n  flex-basis: 30%;\n  background-color: #1f7e93;\n  border: 2px solid #3f454b;\n  border-left: none;\n  color: rgba(0, 0, 0, 0.75);\n\n  :hover {\n    color: rgba(0, 0, 0, 0.5);\n    background-color: #1f7e93aa;\n  }\n`;\n\nexport const NewGameButton = styled.button`\n  background-color: #1f9382;\n  border: 2px solid #4b736d;\n  border-radius: 5px;\n  box-shadow: 4px 4px 5px rgba(0, 0, 0, 0.35);\n  margin-bottom: 10px;\n  text-align: center;\n  justify-self: center;\n  flex-grow: 1;\n  max-width: 75%;\n  :hover {\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);\n  }\n  ${ButtonStyle}\n`;\n\nexport const StyledInput = styled.input`\n  flex-grow: 1;\n  background-color: #2c3035;\n  border: 2px solid #3f454b;\n  font-size: 16px;\n  color: #f4f5f5;\n  padding: 5px;\n  :focus {\n    outline: none;\n  }\n  ::placeholder {\n    color: #6b7580;\n  }\n`;\n","import React, { useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { GameContext } from \"./App\";\nimport { Row, StyledInput, InputButton } from \"./GameOptions.styles\";\nimport { MdContentCopy } from \"react-icons/md\";\n\nconst Container = styled.div`\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  border-radius: 5px;\n  padding: 5px 10px 5px 10px;\n\n  & svg {\n    cursor: pointer;\n  }\n`;\n\nconst GameIdText = styled.span`\n  font-family: monospace;\n  transition: all 0.1s ease;\n  font-size: 14px;\n  color: ${props => (props.wasCopied ? \"grey\" : \"white\")};\n`;\n\nconst copyToClipboard = text => {\n  navigator.permissions.query({ name: \"clipboard-write\" }).then(result => {\n    if (result.state === \"granted\" || result.state === \"prompt\") {\n      navigator.clipboard.writeText(text);\n    }\n  });\n};\n\nexport default function Component(props) {\n  const { userState, gameState, setName } = useContext(GameContext);\n  const [nameInputVal, setNameInputVal] = useState(\"\");\n  const [wasCopied, setWasCopied] = useState(false);\n\n  const setNickname = () => {\n    setName(nameInputVal);\n    setNameInputVal(\"\");\n  };\n\n  const nickname = userState && userState.nickname;\n  const gameID = gameState && gameState.id;\n\n  const copyID = () => {\n    copyToClipboard(gameID);\n    setWasCopied(true);\n    setTimeout(() => setWasCopied(false), 100);\n  };\n\n  return (\n    <Container>\n      <p>\n        Game ID: <GameIdText wasCopied={wasCopied}>{gameID}</GameIdText>{\" \"}\n        <MdContentCopy onClick={copyID} />\n      </p>\n      <Row>\n        <StyledInput\n          value={nameInputVal}\n          onChange={e => setNameInputVal(e.target.value)}\n          placeholder={\"Name: \" + nickname}\n        />\n        <InputButton onClick={setNickname}>Set Nickname</InputButton>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport { GameContext } from \"./App\";\nimport SessionOptions from \"./SessionOptions\";\nimport {\n  Container,\n  Row,\n  ContentContainer,\n  Banner,\n  InputButton,\n  NewGameButton,\n  StyledInput\n} from \"./GameOptions.styles\";\n\nexport default function Component(props) {\n  const { joinGame, gameState, createGame } = useContext(GameContext);\n\n  const [sessionInputVal, setSessionInputVal] = useState(\"\");\n\n  const newGame = e => {\n    e.preventDefault();\n    createGame();\n  };\n\n  return (\n    <Container>\n      <div>\n        <Banner>\n          <span>CODENAMES</span>\n        </Banner>\n        <ContentContainer>\n          <NewGameButton onClick={newGame}>New Game</NewGameButton>\n          <Row>\n            <StyledInput\n              value={sessionInputVal}\n              onChange={e => setSessionInputVal(e.target.value)}\n              placeholder=\"Game ID\"\n            />\n            <InputButton onClick={() => joinGame(sessionInputVal)}>\n              Join Game\n            </InputButton>\n          </Row>\n          {gameState && <SessionOptions />}\n        </ContentContainer>\n      </div>\n    </Container>\n  );\n}\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { GameContext } from \"./App\";\n\nconst Container = styled.div`\n  display: flex;\n  width: 100%;\n  min-height: 300px;\n  font-family: sans-serif;\n  & > * {\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 33%;\n    text-align: center;\n    justify-content: flex-start;\n    margin: 0;\n\n    & > button {\n      background-color: rgba(0, 0, 0, 0.75);\n      color: white;\n      height: 35px;\n      margin: 5px;\n      border: none;\n      transform: all 0.35s ease;\n\n      :hover {\n        background-color: rgba(0, 0, 0, 0.5);\n      }\n\n      :focus {\n        outline: none;\n      }\n    }\n\n    & > p {\n      display: block;\n      background-color: rgba(0, 0, 0, 0.75);\n      margin: 0;\n      padding: 7px;\n      color: rgba(255, 255, 255, 0.75);\n    }\n  }\n  & > div:nth-child(1) {\n    background: #f9f9f0a0;\n  }\n  & > div:nth-child(2) {\n    background: #d56a60a0;\n  }\n  & > div:nth-child(3) {\n    background: #62afd5a0;\n  }\n`;\n\nconst NicknameDisplay = styled.span`\n  display: block;\n  background-color: rgba(0, 0, 0, 0.55);\n  color: rgba(255, 255, 255, 0.75);\n  margin: 3px;\n  padding: 3px;\n`;\n\nexport default function Component(props) {\n  const { gameState, userState, joinTeam, setSpymaster } = useContext(\n    GameContext\n  );\n\n  if (!gameState || !userState) return null;\n\n  const initialUserReduceState = {\n    red: [],\n    blue: [],\n    none: []\n  };\n\n  const users = gameState.players.reduce((acc, current) => {\n    if (!current.team) {\n      acc.none.push(current);\n    } else if (current.team === 1) {\n      acc.red.push(current);\n    } else if (current.team === 2) {\n      acc.blue.push(current);\n    }\n\n    return acc;\n  }, initialUserReduceState);\n\n  return (\n    <Container>\n      <div>\n        <p>UNASSIGNED</p>\n        {users.none.map(user => (\n          <NicknameDisplay>\n            {user.nickname + (user.isSpymaster ? \" (Spymaster)\" : \"\")}\n          </NicknameDisplay>\n        ))}\n      </div>\n      <div>\n        <p>RED</p>\n        {!userState.isSpymaster && !userState.team && (\n          <button onClick={() => joinTeam(1)}>Join</button>\n        )}\n        {users.red.map(user => (\n          <NicknameDisplay>\n            {user.nickname + (user.isSpymaster ? \" (Spymaster)\" : \"\")}\n          </NicknameDisplay>\n        ))}\n        {users.red.find(item => item.id === userState.id) &&\n          !userState.isSpymaster && (\n            <button onClick={() => setSpymaster(true)}>\n              Make Me Spymaster\n            </button>\n          )}\n      </div>\n      <div>\n        <p>BLUE</p>\n        {!userState.isSpymaster && !userState.team && (\n          <button onClick={() => joinTeam(2)}>Join</button>\n        )}\n        {users.blue.map(user => (\n          <NicknameDisplay>\n            {user.nickname + (user.isSpymaster ? \" (Spymaster)\" : \"\")}\n          </NicknameDisplay>\n        ))}\n        {users.blue.find(item => item.id === userState.id) &&\n          !userState.isSpymaster && (\n            <button onClick={() => setSpymaster(true)}>\n              Make Me Spymaster\n            </button>\n          )}\n      </div>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport GameBoard from \"../Components/GameBoard\";\nimport GameOptions from \"../Components/GameOptions\";\nimport Lobby from \"../Components/Lobby\";\n\nimport useSocket from \"./useSocket\";\n\nexport const GameContext = React.createContext();\n\nconst Wrapper = styled.div`\n  width: 100%;\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nfunction App() {\n  const socketContext = useSocket(\"/\");\n  const { gameState } = socketContext;\n\n  return (\n    <GameContext.Provider value={socketContext}>\n      <Wrapper>\n        <GameOptions />\n        {gameState && (\n          <>\n            <GameBoard />\n            <Lobby />\n          </>\n        )}\n      </Wrapper>\n    </GameContext.Provider>\n  );\n}\n\nexport default App;\n","import { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\n\nexport default url => {\n  const [socket, setSocket] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [userState, setUserState] = useState(null);\n\n  //Make the initial connection\n  useEffect(() => {\n    const connection = io(url);\n    setSocket(connection);\n\n    return () => {\n      socket.close();\n    };\n  }, []);\n\n  //Setup the event handlers\n  useEffect(() => {\n    if (socket) {\n      socket.on(\"message\", res => console.log(res));\n      socket.on(\"game_update\", res => {\n        console.log(res);\n        setGameState(res);\n      });\n      socket.on(\"player_update\", res => {\n        setUserState(res);\n      });\n    }\n  }, [socket]);\n\n  const setName = name => {\n    if (socket) {\n      socket.emit(\"set_nickname\", name);\n    }\n  };\n\n  const createGame = () => {\n    if (socket) {\n      socket.emit(\"create_game\");\n    }\n  };\n\n  const joinGame = gameId => {\n    if (socket) {\n      socket.emit(\"join_game\", gameId);\n    }\n  };\n\n  const flipTile = tileId => {\n    if (socket) {\n      socket.emit(\"flip_tile\", tileId);\n    }\n  };\n\n  const joinTeam = teamId => {\n    if (socket) {\n      socket.emit(\"set_team\", teamId);\n    }\n  };\n\n  const setSpymaster = value => {\n    if (socket) {\n      socket.emit(\"set_spymaster\", value);\n    }\n  };\n\n  return {\n    socket,\n    gameState,\n    setName,\n    createGame,\n    userState,\n    flipTile,\n    joinGame,\n    joinTeam,\n    setSpymaster\n  };\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}